<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.1/dist/mindar-image-aframe.prod.js"></script>
   <style>
    /* Estilo para el contenedor de la pantalla de carga */
    #loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
 	  background-image: url('archivos/Logo.jpg'); /* Cambiar la ruta a la imagen deseada */
      background-size: cover; /* Ajustar la imagen al tamaño del contenedor */
      background-position: center; /* Centrar la imagen */      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999; /* Asegúrate de que esté encima de todo */
    }
  </style>

  </head>
  <body>
	  <!-- Pantalla de carga -->
  <div id="loading-screen">
    <h1> </h1>
  </div>

    <a-scene
      mindar-image="imageTargetSrc: archivos/targets.mind;"
      color-space="sRGB"
      renderer="colorManagement: true, physicallyCorrectLights"
      vr-mode-ui="enabled: false"
      device-orientation-permission-ui="enabled: false"
    >
      <a-assets>
        <!-- Creacion del video SweetP.mp4 aqui puedes cambiarle el nombre por el nombre de tu video -->
        <video
          id="vid"
          src="archivos\video.mp4"
          autoplay="false"
          loop="true"
          playsinline
        ></video>
        <!-- Icono de Instagram -->
        <img id="icono-instagram" src="archivos/Instagram-Icon.png" crossorigin="anonymous" style="display: none;">
      </a-assets>

      <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

      <a-entity id="contenedor-video" mindar-image-target="targetIndex: 0">
        <a-video
          id="video"
          src="#vid"
          position="0 0 0"
          height="1.752"
          width="1"
          rotation="0 0 0"
        ></a-video>

        <!-- Añadir icono de Instagram -->
        <a-entity
          id="boton-instagram"
          geometry="primitive: plane; width: 0.5; height: 0.5"
          material="src: #icono-instagram"
          position="1.25 0 0"
          event-set__1="_event: mousedown; scale: 0.9 0.9 1"
          event-set__2="_event: mouseup; scale: 1 1 1"
          event-set__3="_event: mouseenter; color: yellow"
          event-set__4="_event: mouseleave; color: white"
          visible="true"
          onclick="redireccionarInstagram()"
        ></a-entity>
      </a-entity>

      <script>
        //Eventos para cuando la imagen marcador es mostrada en pantalla. La primer parte de codigo es para cuando el marcador es agregado y la segunda para cuando es eliminado de pantalla
        mivideo.addEventListener("targetFound", event => {
              console.log("target found");
             document.querySelector("#vid").play();
            });
            //Segunda parte
            mivideo.addEventListener("targetLost", event => {
              console.log("target lost");
              document.querySelector("#vid").pause();
              
            });

        // Función para redireccionar a Instagram
        function redireccionarInstagram() {
          window.location.href = "https://www.instagram.com/elartegan/";
        }
      </script>
      
  <script>
    // Temporizador para ocultar la pantalla de carga después de 4 segundos
    setTimeout(function() {
      document.getElementById('loading-screen').style.display = 'none';
      document.getElementById('content').style.display = 'block'; // Mostrar contenido principal
    }, 4000); // 4 segundos
  </script>
      
    </a-scene>
  </body>
</html>
